import{j as e}from"./Example-zgwdEd5i.js";import{c as W}from"./ReactAppend-mx8-aehl.js";import{r}from"./useOutsideClick-TT1qJ6UJ.js";import{C as X}from"./CreateReactScript-gWdz5wop.js";import{t as Y}from"./truncateText-C3yxPslF.js";import{a as Z}from"./axios-_sX4vCAy.js";/* empty css             */import"./index-XJuWVQ-l.js";import{P as ee}from"./ProductCard-Fp-QUeac.js";import"./index-38suPYpT.js";import"./_commonjsHelpers-4gQjN7DL.js";import"./CreateReactScript-6LgzDr2G.js";function te({item:n,url:d}){return console.log(n),e.jsxs("div",{className:"bg-[#E8EDDE] h-[198px] flex flex-col rounded-3xl p-4",children:[e.jsx("img",{src:`${d}/${n.icono}`,alt:"",className:"w-12 h-12"}),e.jsx("h2",{className:"text-[24px] font-semibold h-[80px] mt-2",children:n.titulo}),e.jsx("p",{className:"text-[14px] ",children:Y(n.descripcion,70)})]})}const se=({categorias:n,selected_category:d,categoria:p,url_env:u,beneficios:q})=>{let j=new AbortController;const[_,k]=r.useState([]),[s,E]=r.useState(d?{category_id:[d]}:{}),[ie,L]=r.useState(0),[m,w]=r.useState(1),[T,P]=r.useState("Cargar mas productos"),[f,S]=r.useState(""),[V,K]=r.useState(!0),[y,F]=r.useState(!1),[z,M]=r.useState(""),[O,B]=r.useState(""),[C,D]=r.useState(!1),[g,h]=r.useState({categories:d?[{id:`${p.id}`,name:p.name}]:[],priceOrder:""}),v=r.useRef({}),I=r.useRef({}),H=()=>{D(!C)};r.useState(!1),r.useRef(!1);const J=(t=[],a)=>{const i=[];return t.forEach((c,b)=>{b==0?i.push(c):i.push(a,c)}),i},G=()=>{F(!y)},Q=t=>{D(!C);const a=t.target.id,i=I.current[a].querySelector("span").textContent;B(i),!g.categories.find(c=>c.id==a)&&(h(c=>({...c,categories:[...c.categories,{id:a,name:i}]})),E(c=>({...c,category_id:[...s.category_id,a]})))};r.useEffect(()=>{w(1),N()},[s]),r.useEffect(()=>{N()},[m]);const A=t=>{F(!y);const a=t.target.id,i=v.current[a].querySelector("span").textContent;M(i),S(c=>t.target.value),h(c=>({...c,priceOrder:t.target.value}))};r.useEffect(()=>{w(1),N()},[f]);const U=t=>{h(a=>({...a,categories:a.categories.filter(i=>i.id!==t)})),E(a=>({...s,category_id:s.category_id.filter(i=>i!==t)}))},R=()=>{h(t=>({...t,priceOrder:""})),S("")},N=async()=>{j.abort("some"),j=new AbortController;let t=j.signal;P("Cargando ...");const a=[];let i=[];if(f&&(f==="price_high"?i.push({selector:"products.preciofiltro",desc:!0}):f==="price_low"?i.push({selector:"products.preciofiltro",desc:!1}):i.push({selector:"products.created_at",desc:!0})),(s.maxPrice||s.minPrice)&&(s.maxPrice&&s.minPrice?a.push([[["preciofiltro",">=",s.minPrice]],"and",[["preciofiltro","<=",s.maxPrice]]]):s.minPrice?a.push([["precio",">=",s.minPrice],"or",["descuento",">=",s.minPrice]]):s.maxPrice&&a.push([["precio","<=",s.maxPrice],"or",["descuento","<=",s.maxPrice]])),s.collections&&s.collections.length>0){const l=[];s.collections.forEach((o,x)=>{x===0?l.push(["collection_id","=",o]):l.push("or",["collection_id","=",o])}),a.push(l)}if(s.sizes&&s.sizes.length>0){const l=[];s.sizes.forEach((o,x)=>{x===0?l.push(["combinaciones.talla_id","=",o]):l.push("or",["combinaciones.talla_id","=",o])}),a.push(l)}if(s.colors&&s.colors.length>0){const l=[];s.colors.forEach((o,x)=>{x===0?l.push(["combinaciones.color_id","=",o]):l.push("or",["combinaciones.color_id","=",o])}),a.push(l)}if(s.category_id&&s.category_id.length>0){const l=[];s.category_id.forEach((o,x)=>{x===0?l.push(["categoria_id","=",o]):l.push("or",["categoria_id","=",o])}),a.push(l)}const c=await Z.post("/api/products/paginate",{requireTotalCount:!0,filter:J([...a,["products.visible","=",!0]],"and"),take:12,skip:12*(m-1),sort:i},{headers:{"Content-Type":"application/json"},signal:t}),{data:b,totalCount:$}=c.data;m==1?k(b??[]):k([..._,...b]),P("Cargar más modelos"),L($??0),12*m>=$&&K(!1)};return e.jsx(e.Fragment,{children:e.jsxs("section",{className:"mb-24",children:[e.jsxs("div",{className:"mt-14 px-[5%] lg:px-[8%] font-b_slick_bold",children:[e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"text-[#FE4A11] text-base tracking-normal uppercase",children:[" ",`Inicio / ${p.name} `]}),e.jsx("div",{className:"text-3xl lg:text-5xl font-bold text-[#112212] uppercase tracking-wider",children:p.name}),e.jsx("div",{className:"text-[#112212] opacity-80 font-b_slick_regular text-lg",children:p.description})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 mt-4 lg:mt-12 gap-4 lg:gap-10",children:[e.jsxs("div",{className:"dropdown w-full",children:[e.jsx("div",{className:"input-box focus:outline-none font-bold text-text16 md:text-text20 mr-20 shadow-md px-4 py-6 bg-[#F5F5F5]",onClick:H,children:O||"Categoria"}),C&&e.jsx("div",{className:"list z-[100] animate-fade-down animate-duration-[2000ms] overflow-y-auto",style:{maxHeight:"150px",boxShadow:"rgba(0, 0, 0, 0.15) 0px 1px 2px 0px, rgba(0, 0, 0, 0.1) 0px 1px 3px 1px"},children:n.map((t,a)=>e.jsxs("div",{className:"w-full",children:[e.jsx("input",{type:"radio",name:"drop1",id:t.id,className:"radio",value:"price_high",onChange:Q}),e.jsx("label",{ref:i=>I.current[t.id]=i,htmlFor:t.id,className:"font-regularDisplay text-text20 hover:font-bold md:duration-100 hover:text-white ordenar",children:e.jsx("span",{className:"name inline-block w-full",children:t.name})})]}))})]}),e.jsxs("div",{className:"dropdown w-full",children:[e.jsx("div",{className:"input-box focus:outline-none  font-bold text-text16 md:text-text20 mr-20 shadow-md px-4 py-6 bg-[#F5F5F5]",onClick:G,children:z||"Ordenar por"}),y&&e.jsxs("div",{className:"list z-[100] animate-fade-down animate-duration-[2000ms]",style:{maxHeight:"150px",boxShadow:"rgba(0, 0, 0, 0.15) 0px 1px 2px 0px, rgba(0, 0, 0, 0.1) 0px 1px 3px 1px"},children:[e.jsxs("div",{className:"w-full",children:[e.jsx("input",{type:"radio",name:"drop1",id:"id11",className:"radio",value:"price_high",onChange:A}),e.jsx("label",{ref:t=>v.current.id11=t,htmlFor:"id11",className:"font-regularDisplay text-text20 hover:font-bold md:duration-100 hover:text-white ordenar",children:e.jsx("span",{className:"name inline-block w-full",children:"Precio más alto"})})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("input",{type:"radio",name:"drop1",id:"id12",className:"radio",value:"price_low",onChange:A}),e.jsx("label",{ref:t=>v.current.id12=t,htmlFor:"id12",className:"font-regularDisplay text-text20 hover:font-bold md:duration-100 hover:text-white ordenar",children:e.jsx("span",{className:"name inline-block w-full",children:"Precio más bajo"})})]})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mt-7",children:[g.categories.map((t,a)=>e.jsxs("div",{className:"cursor-pointer text-[#112212] text-sm rounded-xl shadow-lg flex flex-row items-center justify-center px-4 py-2",onClick:()=>U(`${t.id}`),children:["Categoria - ",t.name,e.jsx("img",{src:`${u}/img_donas/x.png`,type:"icon",alt:"",className:"pl-2  flex items-center justify-center"})]})),g.priceOrder&&(g.priceOrder==="price_high"?e.jsxs("div",{className:"cursor-pointer text-[#112212] text-sm rounded-xl shadow-lg flex flex-row items-center justify-center px-4 py-2",onClick:R,children:["Orden - Ascendente",e.jsx("img",{src:`${u}/img_donas/x.png`,type:"icon",alt:"",className:"pl-2  flex items-center justify-center"})]}):e.jsxs("div",{className:"cursor-pointer text-[#112212] text-sm rounded-xl shadow-lg flex flex-row items-center justify-center px-4 py-2",onClick:R,children:["Orden - Descendente",e.jsx("img",{src:`${u}/img_donas/x.png`,type:"icon",alt:"",className:"pl-2  flex items-center justify-center"})]}))]}),e.jsx("div",{className:"grid grid-cols-4 gap-5 mt-16",children:_.map((t,a)=>e.jsx(ee,{...t},`product-${a}`))}),e.jsx("div",{className:"flex flex-row w-full items-center justify-center mt-12",children:V&&e.jsx("button",{type:"button",onClick:()=>w(m+1),className:"rounded-full border-2 bg-white shadow-xl border-[#336234] text-[#336234] p-2 px-3 font-bold",children:T})}),e.jsx("div",{className:"grid grid-cols-4 gap-7 mt-16",children:q.map((t,a)=>e.jsx(te,{item:t,url:u}))})]}),e.jsx("div",{className:"mt-14 px-[5%] lg:px-[8%] font-b_slick_bold",children:e.jsxs("section",{class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-7 justify-between",children:[e.jsxs("article",{class:"flex flex-col p-4 rounded-3xl bg-[#E8EDDE] min-w-[240px]",children:[e.jsx("img",{loading:"lazy",src:"https://cdn.builder.io/api/v1/image/assets/TEMP/6f3029906cb8e86d0120daed67bb94b8b03a322ad888069eda0bc9d87d909982?placeholderIfAbsent=true&apiKey=72fae0f4c808496790606e16dad566da",alt:"Delivery truck icon",class:"object-contain w-12 aspect-square"}),e.jsxs("div",{class:"flex flex-col mt-4 w-full",children:[e.jsx("h2",{class:"text-2xl tracking-wide text-zinc-800 ",children:"Envíos a todo Lima y Callao"}),e.jsx("p",{class:"mt-2 text-base tracking-wide leading-5 text-neutral-600 font-b_slick_regular",children:"Llegamos a todo Lima y Callao con los más bajos costos por delivery."})]})]}),e.jsxs("article",{class:"flex flex-col p-4 rounded-3xl bg-[#E8EDDE] min-w-[240px]",children:[e.jsx("img",{loading:"lazy",src:"https://cdn.builder.io/api/v1/image/assets/TEMP/8615517348df310c50aa6a66b821a89abe56250cb57b206f550a7cba34afd6b4?placeholderIfAbsent=true&apiKey=72fae0f4c808496790606e16dad566da",alt:"Clock icon",class:"object-contain w-12 aspect-square"}),e.jsxs("div",{class:"flex flex-col mt-4 w-full",children:[e.jsx("h2",{class:"text-2xl tracking-wide text-zinc-800 ",children:"Envía hoy mismo"}),e.jsx("p",{class:"mt-2 text-base tracking-wide leading-5 text-neutral-600 font-b_slick_regular",children:"Realiza la compra hasta las 3:30pm y entregaremos tu detalle el mismo día."})]})]}),e.jsxs("article",{class:"flex flex-col p-4 rounded-3xl bg-[#E8EDDE] min-w-[240px]",children:[e.jsx("img",{loading:"lazy",src:"https://cdn.builder.io/api/v1/image/assets/TEMP/c7186ebff759020c6e8059a79debf7dd8a20d47c80e51df4713cd3821db89e36?placeholderIfAbsent=true&apiKey=72fae0f4c808496790606e16dad566da",alt:"Lock icon",class:"object-contain w-12 aspect-square"}),e.jsxs("div",{class:"flex flex-col mt-4 w-full",children:[e.jsx("h2",{class:"text-2xl tracking-wide text-zinc-800 ",children:"Compra segura"}),e.jsx("p",{class:"mt-2 text-base tracking-wide leading-5 text-neutral-600 font-b_slick_regular",children:"Compra rápido, fácil y seguro con tarjeta o transferencias bancarias."})]})]}),e.jsxs("article",{class:"flex flex-col p-4 rounded-3xl bg-[#E8EDDE] min-w-[240px]",children:[e.jsx("img",{loading:"lazy",src:"https://cdn.builder.io/api/v1/image/assets/TEMP/fd6fa80c5f43aa2d391e6c63473d72b1875567c77ab470f8b6b4f1033fdbc9bb?placeholderIfAbsent=true&apiKey=72fae0f4c808496790606e16dad566da",alt:"Camera icon",class:"object-contain w-12 aspect-square"}),e.jsxs("div",{class:"flex flex-col mt-4 w-full",children:[e.jsx("h2",{class:"text-2xl font-medium tracking-wider leading-none text-zinc-800",children:"Incluye una foto"}),e.jsx("p",{class:"mt-2 text-base tracking-wide leading-5 text-neutral-600 font-b_slick_regular",children:"Agregamos una foto en tu mensaje para que tu detalle sea único y especial."})]})]})]})})]})})};X((n,d)=>{W(n).render(e.jsx(se,{...d}))});
