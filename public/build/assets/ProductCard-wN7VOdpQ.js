import{j as s}from"./Example-zgwdEd5i.js";import{r as i}from"./useOutsideClick-TT1qJ6UJ.js";const h=e=>{var c,l,d;const[u,n]=i.useState(!1),x=((t,a)=>a===0?0:((1-a/t)*100).toFixed(0))(Number(e.precio),Number(e.descuento));i.useEffect(()=>{Number(e.descuento)===0?n(!1):n(!0)},[e.descuento]);const o=(c=e.componentes_hijos)==null?void 0:c.reduce((t,a)=>Number(a.precio)>t?Number(a.descuento)>0?Number(a.descuento):Number(a.precio):t,0),m=(l=e.componentes_hijos)==null?void 0:l.find(t=>e.descuento!==o||e.precio!==o);return s.jsxs("div",{className:"flex flex-col gap-7 col-span-1 font-b_slick_bold",children:[s.jsxs("a",{className:"rounded-xl bg-white shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",href:`/producto/${e.id}`,children:[s.jsxs("div",{className:"bg-[#FFF4ED] rounded-t-xl overflow-hidden relative",children:[u&&s.jsx("div",{style:{borderRadius:"0px 5px 5px 5px"},className:"flex content-center justify-center absolute left-[4%] top-[4%] w-20 bg-[#ee141f] text-white text-end px-1 pt-1 text-sm shadow-lg items-center",children:s.jsxs("div",{children:[x,"% OFF"]})}),e.images.length===0?s.jsx("img",{src:"/images/img/noimagen.jpg",alt:e.producto,className:"w-full aspect-square object-cover hover:scale-110 transition-transform duration-300"}):((d=e.componentes_hijos)==null?void 0:d.length)==2?m.images.map((t,a)=>t.caratula===1&&s.jsx("img",{src:t.name_imagen?`/${t.name_imagen}`:"/images/img/noimagen.jpg",alt:e.producto,className:"w-full aspect-square object-cover hover:scale-110 transition-transform duration-300",onError:r=>{r.target.src="/images/img/noimagen.jpg"}},a)):e.images.map((t,a)=>t.caratula===1&&s.jsx("img",{src:t.name_imagen?`/${t.name_imagen}`:"/images/img/noimagen.jpg",alt:e.producto,className:"w-full aspect-square object-cover hover:scale-110 transition-transform duration-300",onError:r=>{r.target.src="/images/img/noimagen.jpg"}},a))]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h2",{className:"block text-xl text-[#112212] mb-1 font-bold truncate content-between",children:e.producto}),s.jsx("p",{className:"text-base font-normal text-[rgba(17,34,18,0.8)] line-clamp-2 text-ellipsis h-[48px] mb-1 font-b_classic_regular tracking-wide",children:e.extract}),s.jsx("div",{className:`flex  space-x-2 ${o>0?"items-between  justify-between content-between":""}`,children:o?s.jsx(s.Fragment,{children:s.jsx("div",{className:"flex gap-10 ",children:s.jsxs("div",{className:"text-[#112212] font-bold flex flex-col",children:[s.jsx("span",{className:"text-[#112212] opacity-80",children:"Desde"}),s.jsxs("span",{children:[" S/ ",e.descuento>0?Number(e.descuento).toFixed(0):Number(e.precio).toFixed(0)," "]})]})})}):s.jsxs("div",{className:"text-[#112212] font-bold flex flex-col",children:[s.jsx("span",{className:"text-[#112212] opacity-80",children:"Precio"}),s.jsxs("span",{children:[" S/ ",e.descuento>0?Number(e.descuento).toFixed(0):Number(e.precio).toFixed(0),"  "]})]})})]})]}),s.jsx("div",{className:"w-full mt-4",children:s.jsx("a",{href:`/producto/${e.id}`,type:"button",className:"w-full py-3 rounded-full shadow-md font-medium flex items-center justify-center bg-[#336234] text-white text-base hover:bg-[#2d5228] transition-colors duration-300",children:s.jsx("span",{children:"Agregar a Carrito"})})})]})};export{h as P};
