import{j as e}from"./Example-zgwdEd5i.js";import{r as x}from"./useOutsideClick-TT1qJ6UJ.js";const h=s=>{var l,i,d;const[u,n]=x.useState(!1),m=((t,a)=>a===0?0:((1-a/t)*100).toFixed(0))(Number(s.precio),Number(s.descuento));x.useEffect(()=>{Number(s.descuento)===0?n(!1):n(!0)},[s.descuento]);const o=(l=s.componentes_hijos)==null?void 0:l.reduce((t,a)=>Number(a.precio)>t?Number(a.descuento)>0?Number(a.descuento):Number(a.precio):t,0),c=(i=s.componentes_hijos)==null?void 0:i.find(t=>s.descuento!==o||s.precio!==o);return console.log(c),e.jsxs("div",{className:"flex flex-col gap-7 col-span-1 font-b_slick_bold",children:[e.jsxs("a",{className:"rounded-xl bg-white shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",href:`/producto/${s.id}`,children:[e.jsxs("div",{className:"bg-[#FFF4ED] rounded-t-xl overflow-hidden relative",children:[u&&e.jsx("div",{style:{borderRadius:"0px 5px 5px 5px"},className:"flex content-center justify-center absolute left-[4%] top-[4%] w-20 bg-[#ee141f] text-white text-end px-1 pt-1 text-sm shadow-lg items-center",children:e.jsxs("div",{children:[m,"% OFF"]})}),s.images.length===0?e.jsx("img",{src:"/images/img/noimagen.jpg",alt:s.producto,className:"w-full aspect-square object-cover hover:scale-110 transition-transform duration-300"}):((d=s.componentes_hijos)==null?void 0:d.length)==2?c.images.map((t,a)=>t.caratula===1&&e.jsx("img",{src:t.name_imagen?`/${t.name_imagen}`:"/images/img/noimagen.jpg",alt:s.producto,className:"w-full aspect-square object-cover hover:scale-110 transition-transform duration-300",onError:r=>{r.target.src="/images/img/noimagen.jpg"}},a)):s.images.map((t,a)=>t.caratula===1&&e.jsx("img",{src:t.name_imagen?`/${t.name_imagen}`:"/images/img/noimagen.jpg",alt:s.producto,className:"w-full aspect-square object-cover hover:scale-110 transition-transform duration-300",onError:r=>{r.target.src="/images/img/noimagen.jpg"}},a))]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"block text-xl text-[#112212] mb-1 font-bold truncate content-between",children:s.producto}),e.jsx("p",{className:"text-base font-normal text-[rgba(17,34,18,0.8)] line-clamp-2 text-ellipsis h-[48px] mb-1 font-b_classic_regular tracking-wide",children:s.extract}),e.jsx("div",{className:`flex  space-x-2 ${o>0?"items-between  justify-between content-between":""}`,children:o?e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex gap-10 ",children:e.jsxs("div",{className:"text-[#112212] font-bold flex flex-col",children:[e.jsx("span",{className:"text-[#112212] opacity-80",children:"Desde"}),e.jsxs("span",{children:[" S/ ",s.descuento>0?Number(s.descuento).toFixed(0):Number(s.precio).toFixed(0)," "]})]})})}):e.jsxs("div",{className:"text-[#112212] font-bold flex flex-col",children:[e.jsx("span",{className:"text-[#112212] opacity-80",children:"Precio"}),e.jsxs("span",{children:[" S/ ",Number(s.precio).toFixed(0)," "]})]})})]})]}),e.jsx("div",{className:"w-full mt-4",children:e.jsxs("a",{href:`/producto/${s.id}`,type:"button",className:"w-full py-3 rounded-full shadow-md font-medium flex items-center justify-center bg-[#336234] text-white text-base hover:bg-[#2d5228] transition-colors duration-300",children:[e.jsx("span",{children:"Ver producto"}),e.jsx("i",{className:"ml-2 fa-solid fa-arrow-right"})]})})]})};export{h as P};
