import{j as e}from"./Example-zgwdEd5i.js";import{c as U}from"./ReactAppend-mx8-aehl.js";import{r as a}from"./useOutsideClick-TT1qJ6UJ.js";import{C as X}from"./CreateReactScript-gWdz5wop.js";import{S as Z}from"./react-select.esm-8n6hKeD1.js";import{t as ee}from"./truncateText-C3yxPslF.js";import{a as te}from"./axios-_sX4vCAy.js";/* empty css             */import"./index-XJuWVQ-l.js";import{P as se}from"./ProductCard-JJYOvpJl.js";import"./index-38suPYpT.js";import"./_commonjsHelpers-4gQjN7DL.js";import"./CreateReactScript-6LgzDr2G.js";import"./setPrototypeOf-vsx73Wsd.js";import"./floating-ui.dom-KYqStz1f.js";function re({item:o,url:l}){return console.log(o),e.jsxs("div",{className:"flex flex-col p-4 rounded-3xl bg-[#E8EDDE] min-w-[240px]",children:[e.jsx("img",{src:`${l}/${o.icono}`,alt:"",className:"w-12 h-12 object-contain aspect-square"}),e.jsxs("div",{class:"flex flex-col mt-4 w-full",children:[e.jsx("h2",{className:"text-2xl tracking-wide text-zinc-800 ",children:o.titulo}),e.jsx("p",{className:"mt-2 text-base tracking-wide leading-5 text-neutral-600 font-b_slick_regular",children:ee(o.descripcion,70)})]})]})}const oe={control:(o,l)=>({...o,backgroundColor:"#F8F8F8",borderRadius:"12px",width:"100%",paddingTop:"8px",paddingBottom:"8px",marginBottom:"6px",borderColor:(l.isFocused,"#EFEFEF"),boxShadow:l.isFocused?"0 8px 16px rgba(0, 0, 0, 0.2)":"0 4px 8px rgba(0, 0, 0, 0.1)","&:hover":{borderColor:"#EFEFEF"},minHeight:"48px"}),option:(o,l)=>({...o,color:(l.isSelected,"#112212"),paddingTop:"13px",paddingBottom:"13px",backgroundColor:l.isSelected?"#EFEFEF":"#F9FAFB","&:hover":{backgroundColor:(l.isSelected,"#EFEFEF"),color:(l.isSelected,"#112212")},padding:"10px 20px"}),menu:o=>({...o,marginTop:"0px",paddingTop:"0px",borderRadius:"12px",maxHeight:"150px",overflowY:"auto"}),dropdownIndicator:o=>({...o,color:"#112212","&:hover":{color:"#112212"}}),indicatorSeparator:()=>({display:"none"}),singleValue:o=>({...o,color:"#112212"}),placeholder:o=>({...o,color:"#112212",fontWeight:"bold",fontSize:"16px"})},A=({title:o,handleOptionChange:l,options:p=[]})=>(console.log(p),e.jsx(Z,{className:"font-poppins_regular font-bold text-lg w-full z-0",styles:oe,options:p.map(x=>({value:x.id,label:x.name})),placeholder:o,filterOption:()=>!0,isSearchable:!1,onChange:l})),ie=({categorias:o,selected_category:l,categoria:p,url_env:x,beneficios:B})=>{let j=new AbortController;const[v,S]=a.useState([]),[s,E]=a.useState(l?{category_id:[l]}:{}),[le,q]=a.useState(0),[u,w]=a.useState(1),[D,_]=a.useState("Cargar mas productos"),[g,k]=a.useState(""),[H,L]=a.useState(!0),[C,P]=a.useState(!1),[O,J]=a.useState(""),[z,M]=a.useState(""),[y,R]=a.useState(!1),[f,h]=a.useState({categories:l?[{id:`${p.id}`,name:p.name}]:[],priceOrder:""}),F=a.useRef({}),$=a.useRef({}),W=()=>{R(!y)};a.useState(!1),a.useRef(!1);const Y=(t=[],r)=>{const i=[];return t.forEach((c,b)=>{b==0?i.push(c):i.push(r,c)}),i},G=()=>{P(!C)},K=t=>{R(!y);const r=t.target.id,i=$.current[r].querySelector("span").textContent;M(i),!f.categories.find(c=>c.id==r)&&(h(c=>({...c,categories:[...c.categories,{id:r,name:i}]})),E(c=>({...c,category_id:[...s.category_id,r]})))};a.useEffect(()=>{w(1),N()},[s]),a.useEffect(()=>{N()},[u]);const T=t=>{P(!C);const r=t.target.id,i=F.current[r].querySelector("span").textContent;J(i),k(c=>t.target.value),h(c=>({...c,priceOrder:t.target.value}))};a.useEffect(()=>{w(1),N()},[g]);const Q=t=>{h(r=>({...r,categories:r.categories.filter(i=>i.id!==t)})),E(r=>({...s,category_id:s.category_id.filter(i=>i!==t)}))},I=()=>{h(t=>({...t,priceOrder:""})),k("")},N=async()=>{j.abort("some"),j=new AbortController;let t=j.signal;_("Cargando ...");const r=[];let i=[];if(g&&(g==="price_high"?i.push({selector:"products.preciofiltro",desc:!0}):g==="price_low"?i.push({selector:"products.preciofiltro",desc:!1}):i.push({selector:"products.created_at",desc:!0})),(s.maxPrice||s.minPrice)&&(s.maxPrice&&s.minPrice?r.push([[["preciofiltro",">=",s.minPrice]],"and",[["preciofiltro","<=",s.maxPrice]]]):s.minPrice?r.push([["precio",">=",s.minPrice],"or",["descuento",">=",s.minPrice]]):s.maxPrice&&r.push([["precio","<=",s.maxPrice],"or",["descuento","<=",s.maxPrice]])),s.collections&&s.collections.length>0){const n=[];s.collections.forEach((d,m)=>{m===0?n.push(["collection_id","=",d]):n.push("or",["collection_id","=",d])}),r.push(n)}if(s.sizes&&s.sizes.length>0){const n=[];s.sizes.forEach((d,m)=>{m===0?n.push(["combinaciones.talla_id","=",d]):n.push("or",["combinaciones.talla_id","=",d])}),r.push(n)}if(s.colors&&s.colors.length>0){const n=[];s.colors.forEach((d,m)=>{m===0?n.push(["combinaciones.color_id","=",d]):n.push("or",["combinaciones.color_id","=",d])}),r.push(n)}if(s.category_id&&s.category_id.length>0){const n=[];s.category_id.forEach((d,m)=>{m===0?n.push(["categoria_id","=",d]):n.push("or",["categoria_id","=",d])}),r.push(n)}const c=await te.post("/api/products/paginate",{requireTotalCount:!0,filter:Y([...r,["products.visible","=",!0]],"and"),take:12,skip:12*(u-1),sort:i},{headers:{"Content-Type":"application/json"},signal:t}),{data:b,totalCount:V}=c.data;u==1?S(b??[]):S([...v,...b]),_("Cargar más modelos"),q(V??0),12*u>=V&&L(!1)};return e.jsx(e.Fragment,{children:e.jsx("section",{className:"mb-24",children:e.jsxs("div",{className:"mt-14 px-[5%] lg:px-[8%] font-b_slick_bold",children:[e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"text-[#FE4A11] text-base tracking-normal uppercase",children:[" ",`Inicio / ${p.name??"Todas las categorias"} `]}),e.jsx("div",{className:"text-3xl lg:text-5xl font-bold text-[#112212] uppercase tracking-wider",children:p.name}),e.jsx("div",{className:"text-[#112212] opacity-80 font-b_slick_regular text-lg",children:p.description})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 mt-4 lg:mt-12 gap-4 lg:gap-10",children:[e.jsxs("div",{className:"dropdown w-full",children:[e.jsx("div",{className:"input-box focus:outline-none font-bold text-text16 md:text-text20 mr-20 shadow-md px-4 py-6 bg-[#F5F5F5]",onClick:W,children:z||"Categoria"}),y&&e.jsx("div",{className:"list z-[100] animate-fade-down animate-duration-[2000ms] overflow-y-auto",style:{maxHeight:"150px",boxShadow:"rgba(0, 0, 0, 0.15) 0px 1px 2px 0px, rgba(0, 0, 0, 0.1) 0px 1px 3px 1px"},children:o.map((t,r)=>e.jsxs("div",{className:"w-full",children:[e.jsx("input",{type:"radio",name:"drop1",id:t.id,className:"radio",value:"price_high",onChange:K}),e.jsx("label",{ref:i=>$.current[t.id]=i,htmlFor:t.id,className:"font-regularDisplay text-text20 hover:font-bold md:duration-100 hover:text-white ordenar",children:e.jsx("span",{className:"name inline-block w-full",children:t.name})})]}))})]}),e.jsxs("div",{className:"dropdown w-full",children:[e.jsx("div",{className:"input-box focus:outline-none  font-bold text-text16 md:text-text20 mr-20 shadow-md px-4 py-6 bg-[#F5F5F5]",onClick:G,children:O||"Ordenar por"}),C&&e.jsxs("div",{className:"list z-[100] animate-fade-down animate-duration-[2000ms]",style:{maxHeight:"150px",boxShadow:"rgba(0, 0, 0, 0.15) 0px 1px 2px 0px, rgba(0, 0, 0, 0.1) 0px 1px 3px 1px"},children:[e.jsxs("div",{className:"w-full",children:[e.jsx("input",{type:"radio",name:"drop1",id:"id11",className:"radio",value:"price_high",onChange:T}),e.jsx("label",{ref:t=>F.current.id11=t,htmlFor:"id11",className:"font-regularDisplay text-text20 hover:font-bold md:duration-100 hover:text-white ordenar",children:e.jsx("span",{className:"name inline-block w-full",children:"Precio más alto"})})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("input",{type:"radio",name:"drop1",id:"id12",className:"radio",value:"price_low",onChange:T}),e.jsx("label",{ref:t=>F.current.id12=t,htmlFor:"id12",className:"font-regularDisplay text-text20 hover:font-bold md:duration-100 hover:text-white ordenar",children:e.jsx("span",{className:"name inline-block w-full",children:"Precio más bajo"})})]})]})]}),console.log(o),e.jsx(A,{options:o,title:"Categorías"}),e.jsx(A,{title:"Ordenar por"})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mt-7",children:[f.categories.map((t,r)=>e.jsxs("div",{className:"cursor-pointer text-[#112212] text-sm rounded-xl shadow-lg flex flex-row items-center justify-center px-4 py-2",onClick:()=>Q(`${t.id}`),children:["Categoria - ",t.name,e.jsx("img",{src:`${x}/img_donas/x.png`,type:"icon",alt:"",className:"pl-2  flex items-center justify-center"})]})),f.priceOrder&&(f.priceOrder==="price_high"?e.jsxs("div",{className:"cursor-pointer text-[#112212] text-sm rounded-xl shadow-lg flex flex-row items-center justify-center px-4 py-2",onClick:I,children:["Orden - Ascendente",e.jsx("img",{src:`${x}/img_donas/x.png`,type:"icon",alt:"",className:"pl-2  flex items-center justify-center"})]}):e.jsxs("div",{className:"cursor-pointer text-[#112212] text-sm rounded-xl shadow-lg flex flex-row items-center justify-center px-4 py-2",onClick:I,children:["Orden - Descendente",e.jsx("img",{src:`${x}/img_donas/x.png`,type:"icon",alt:"",className:"pl-2  flex items-center justify-center"})]}))]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5 mt-16",children:v.map((t,r)=>e.jsx(se,{...t},`product-${r}`))}),e.jsx("div",{className:"flex flex-row w-full items-center justify-center mt-12",children:H&&e.jsx("button",{type:"button",onClick:()=>w(u+1),className:"rounded-full border-2 bg-white shadow-xl border-[#336234] text-[#336234] p-2 px-3 font-bold",children:D})}),e.jsx("div",{className:"mt-14 font-b_slick_bold w-full",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-7 justify-between",children:B.map((t,r)=>e.jsx(re,{item:t,url:x}))})})]})})})};X((o,l)=>{U(o).render(e.jsx(ie,{...l}))});
