import{j as e}from"./Example-zgwdEd5i.js";import{c as W}from"./ReactAppend-mx8-aehl.js";import{r as u,R as L}from"./useOutsideClick-TT1qJ6UJ.js";import{C as H}from"./CreateReactScript-OQMMn-O_.js";/* empty css             */import{s as _}from"./storage-zp2nPsZU.js";import{c as U}from"./calcularTotal-FPqXOtx1.js";import{I as p,G as Q,S as $,M as X}from"./react-select.esm-XScc3B0I.js";import{B as A}from"./Button-pfbHwtIn.js";import"./index-XJuWVQ-l.js";import{a as I}from"./axios-_sX4vCAy.js";import{S as T}from"./Profile-6kVS_QzG.js";import"./index-38suPYpT.js";import"./_commonjsHelpers-4gQjN7DL.js";import"./CreateReactScript-TJU9eeEG.js";/* empty css              */import"./objectWithoutPropertiesLoose-RRuG-_4m.js";import"./setPrototypeOf-ahVgEFUp.js";import"./floating-ui.dom-KYqStz1f.js";function J({producto:s,extract:o,sku:f,precio:i,cantidad:d,total:j,usePoints:k,imagen:r,points:m,userPoints:S}){let C=structuredClone(d);for(let g=0;g<d;g++)k&&S>=m&&(C--,S-=m);const w=C*i;return e.jsxs("div",{className:"flex flex-wrap gap-10 justify-between items-start w-full max-md:max-w-full",children:[e.jsxs("div",{className:"flex gap-8 min-w-[240px]",children:[e.jsx("img",{loading:"lazy",src:r,alt:s,className:"object-contain shrink-0 self-start w-28 aspect-square"}),e.jsxs("div",{className:"flex flex-col w-44",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("h2",{className:"text-base font-bold tracking-wider text-neutral-900",children:s}),e.jsx("p",{className:"mt-2 text-sm tracking-wide leading-5 text-neutral-900 text-opacity-80",children:o}),k&&e.jsx("span",{className:"text-orange-500 text-sm",children:"Usando puntos"})]}),e.jsxs("p",{className:"mt-5 text-xs font-bold tracking-wide text-neutral-900",children:["SKU: ",f]})]})]}),e.jsxs("div",{className:"flex justify-between items-start font-bold text-right min-w-[240px] w-[400px]",children:[e.jsxs("div",{className:"flex flex-col flex-1 shrink justify-center basis-0",children:[e.jsx("p",{className:"text-sm tracking-wide text-neutral-900 text-opacity-80",children:"Precio"}),e.jsx("p",{className:"mt-2 text-base tracking-wider text-neutral-900",children:i})]}),e.jsxs("div",{className:"flex flex-col flex-1 shrink justify-center whitespace-nowrap basis-0",children:[e.jsx("p",{className:"text-sm tracking-wide text-neutral-900 text-opacity-80",children:"Cantidad"}),e.jsx("p",{className:"mt-2 text-base tracking-wider text-neutral-900",children:d})]}),e.jsxs("div",{className:"flex flex-col flex-1 shrink justify-center basis-0",children:[e.jsx("p",{className:"text-sm tracking-wide text-neutral-900 text-opacity-80",children:"Total"}),e.jsx("p",{className:"mt-2 text-base tracking-wider text-neutral-900",children:w.toFixed(2)})]})]})]})}function P({label:s,value:o,isBold:f=!1,setIsModalOpen:i=()=>{}}){const d=f?"text-base font-bold tracking-wider text-right":"text-sm tracking-wide text-right";return e.jsxs("div",{className:"flex items-center gap-5 self-end mt-6 max-w-full font-bold text-right w-[400px]",children:[e.jsx("div",{className:`self-stretch my-auto ${d} text-neutral-900 text-opacity-80 w-[133px]`,children:s}),e.jsx("div",{className:`self-stretch px-2 ${d} text-neutral-900 w-[133px] text-start`,children:o==0?e.jsxs("span",{className:"text-center cursor-pointer",onClick:()=>i(!0),children:[e.jsx("i",{className:"fas fa-map-marker-alt me-1"}),"Seleccione una direccion"]}):e.jsxs(e.Fragment,{children:["S / ",Number(o).toFixed(2)]})})]})}function D(){return e.jsx("hr",{className:"mt-6 w-full border-t border-zinc-300 max-md:max-w-full","aria-hidden":"true"})}const Y=({carrito:s,costoEnvio:o,setIsModalOpen:f,points:i,historicoCupones:d})=>{var w,g,B,h;const j=U(i),[k,r]=u.useState(j);let m=!1;console.log(d),u.useEffect(()=>{let v=0,b;d.length>0&&(b=d[0].cupon??{},b.porcentaje==1?v=j*b.monto/100:v=b.monto,m=!0);const E=Number(j)+Number(o)-v;r(E)},[o,j,d]);const C=`${((g=(w=d[0])==null?void 0:w.cupon)==null?void 0:g.porcentaje)==1?"%":"S/"} ${(h=(B=d[0])==null?void 0:B.cupon)==null?void 0:h.monto}`;return console.log("historicoCupones",C),e.jsxs("main",{className:"flex flex-col flex-1 shrink justify-center self-stretch my-auto w-full basis-0 min-w-[240px] max-md:max-w-full",children:[s.map((v,b)=>e.jsxs(L.Fragment,{children:[e.jsx(J,{...v,userPoints:i}),b<s.length-1&&e.jsx(D,{})]},v.id)),e.jsx(D,{}),e.jsx(P,{label:"Sub Total",value:j}),e.jsx(D,{}),m&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-5 self-end mt-6 max-w-full font-bold text-right w-[400px]",children:[e.jsx("div",{className:"self-stretch my-auto text-sm tracking-wide text-right text-neutral-900 text-opacity-80 w-[133px]",children:"Descuento"}),e.jsx("div",{className:"self-stretch px-2 text-sm tracking-wide  text-neutral-900 w-[133px] text-start",children:C})]}),e.jsx(D,{})]}),e.jsx(P,{label:"Costo de envio",value:o,setIsModalOpen:f}),e.jsx(D,{}),e.jsx(P,{label:"Total",value:k,isBold:!0}),e.jsx(D,{})]})},Z=({label:s,isActive:o})=>e.jsxs("div",{className:"flex z-0 flex-col items-center",children:[e.jsx("div",{className:o?"text-green-800":"text-stone-200",children:s}),e.jsx("div",{className:`flex mt-2 rounded-full h-[21px] min-h-[21px] w-[21px] ${o?"bg-green-800":"bg-stone-200"}`})]}),ee=()=>{const s=[{label:"Iniciar sesión",isActive:!0},{label:"Datos de envío y formas de pago",isActive:!0},{label:"Confirmación",isActive:!1}];return e.jsxs("header",{className:"flex relative gap-10 items-end self-center mt-28 text-sm font-bold tracking-wide text-green-800 max-md:mt-10 max-md:max-w-full",children:[e.jsx("img",{loading:"lazy",src:"https://cdn.builder.io/api/v1/image/assets/TEMP/0e50d3c8b826068c684f8e8aaae5486a7bbc87805e23803a390bd12dfd3a4828?placeholderIfAbsent=true&apiKey=b6f214df1e0f4f5eae4157d4f12e0ba3",alt:"",className:"object-contain absolute bottom-2.5 z-0 self-start h-0 min-w-[240px] right-[58px] w-[271px]"}),s.map((o,f)=>{var i;return e.jsxs(L.Fragment,{children:[e.jsx(Z,{label:o.label,isActive:o.isActive}),o.isActive&&((i=s[f+1])==null?void 0:i.isActive)&&e.jsx("div",{className:"h-1 w-10 bg-green-800"})]},f)}),e.jsx("img",{loading:"lazy",src:"https://cdn.builder.io/api/v1/image/assets/TEMP/39542631d1854d829eb54d8f16f4949c8830ea0ad8a7af5cfe2ecfa866db03a7?placeholderIfAbsent=true&apiKey=b6f214df1e0f4f5eae4157d4f12e0ba3",alt:"",className:"object-contain absolute bottom-2.5 z-0 self-start h-0 left-[47px] min-w-[240px] w-[271px]"})]})};function te({date:s,time:o,iconSrc:f}){return e.jsxs("div",{className:"flex flex-wrap gap-4 justify-center items-center px-6 py-3 w-full text-sm tracking-wide text-center text-white rounded-lg  bg-green-800 max-md:px-5 max-md:max-w-full",children:[e.jsx("i",{className:"far fa-calendar-alt text-2xl"}),e.jsxs("div",{className:"flex flex-col self-stretch my-auto w-[200px]",children:[e.jsx("div",{children:s}),e.jsx("div",{className:"mt-1",children:o})]})]})}function ae({onChange:s}){return e.jsxs("div",{className:"flex flex-wrap gap-8 items-center mt-2 w-full text-sm font-bold tracking-wide whitespace-nowrap max-md:max-w-full",children:[e.jsxs("label",{className:"flex gap-1 items-center self-stretch my-auto text-neutral-900",children:[e.jsx("input",{type:"radio",name:"receiptType",value:"boleta",className:"hover:text-orange-400 hover:border-orange-400 focus:ring-0 focus:ring-offset-0 focus:outline-none checked:bg-orange-400 checked:border-orange-400",onChange:()=>s("boleta"),required:!0,defaultChecked:!0}),e.jsx("span",{className:"self-stretch my-auto",children:"Boleta"})]}),e.jsxs("label",{className:"flex gap-1 items-center self-stretch my-auto text-neutral-900",children:[e.jsx("input",{type:"radio",name:"receiptType",value:"factura",className:"hover:text-orange-400 hover:border-orange-400 focus:ring-0 focus:ring-offset-0 focus:outline-none checked:bg-orange-400 checked:border-orange-400",onChange:()=>s("factura"),required:!0}),e.jsx("span",{className:"self-stretch my-auto",children:"Factura"})]})]})}function le({onSelectAddress:s,scriptLoaded:o,handlemodalMaps:f,addressRef:i={},setCostoEnvio:d}){const[j,k]=u.useState(Local.get("carrito")||[]),[r,m]=u.useState({fullname:"",phone:"",fulladdress:"",street:"",number:"",mz:"",department:"",province:"",district:"",residenceType:"",reference:"",postal_code:"",coordinates:{latitude:0,longitude:0},entrega:{fecha:j[0].fecha,horario:`${j[0].horario.id} `}}),S=()=>{console.log(r);const a=["fullname","phone","fulladdress","street","number","department","province","district","residenceType","reference","postal_code"];for(let N of a)if(!r[N])return!1;return!0},C={control:a=>({...a,outline:"none",boxShadow:"none",borderColor:"transparent",borderRight:"none","&:hover":{borderColor:"transparent"}}),menu:a=>({...a,width:"90%"}),option:a=>({...a,fontSize:"0.875rem",padding:"8px 12px"}),indicatorSeparator:()=>({display:"none"})},w=async(a,N)=>{try{const c=await I.post("/api/consultar-localidad",{zip_code:a},{cancelToken:N});let{data:x,status:q}=c;q===200&&(d(x.price),T.fire({icon:"success",title:"Ubicación encontrada",text:"Hemos encontrado tu ubicación, por favor verifica que los datos sean correctos",showConfirmButton:!0,showCancelButton:!1,confirmButtonText:"Aceptar",confirmButtonColor:"#10B981"})),console.log(c)}catch(c){console.log("Error:",c),I.isCancel(c)?console.log("Request canceled",c.message):c.response.status==404?T.fire({icon:"error",title:"Error",text:"La direccion que ha elegido no tiene cobertura en nuestra zona de reparto",showConfirmButton:!0,showCancelButton:!1,confirmButtonText:"Aceptar",confirmButtonColor:"#EF4444"}):console.error("Error:",c)}},g=u.useRef(null),B=async(a,N)=>{console.log("cambio el zipcode"),g.current&&g.current.cancel("Operation canceled due to new request."),g.current=I.CancelToken.source(),await w(N,g.current.token),m(c=>({...c,coordinates:{latitude:a.geometry.location.lat(),longitude:a.geometry.location.lng()}})),a.address_components.forEach(c=>{c.types.includes("administrative_area_level_2")&&m(x=>({...x,province:c.long_name})),c.types.includes("administrative_area_level_1")&&m(x=>({...x,department:c.long_name})),c.types.includes("locality")&&(m(x=>({...x,district:c.long_name})),m(x=>({...x,postal_code:N,fulladdress:a.formatted_address}))),c.types.includes("street_number")&&m(x=>({...x,number:c.long_name})),c.types.includes("route")&&m(x=>({...x,street:c.long_name}))})};u.useEffect(()=>()=>{g.current&&g.current.cancel("Component unmounted.")},[]);const h=a=>{const{name:N,value:c}=a.target;m(x=>({...x,[N]:c}))},v=a=>{console.log("entrando here"),a.preventDefault(),console.log(r),S()?s(r):T.fire({icon:"error",title:"Error",text:"Por favor, completa todos los campos requeridos antes de continuar.",showConfirmButton:!0,showCancelButton:!1,confirmButtonText:"Aceptar",confirmButtonColor:"#EF4444"})},b=a=>{console.log(r),m({...r,residenceType:a.value,otherResidenceType:a.value==="Otro"?"":r.otherResidenceType})},E=a=>{console.log(r),m({...r,otherResidenceType:a.target.value})},n=[{value:"Casa",label:"Casa"},{value:"Departamento",label:"Departamento"},{value:"Oficina",label:"Oficina"},{value:"Otro",label:"Otro"}];return e.jsx("main",{className:"flex flex-col justify-center self-stretch p-1 text-sm font-bold tracking-wide bg-white rounded-none max-w-[880px] max-md:px-5",children:e.jsxs("form",{className:"flex flex-col w-full",children:[e.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 w-full",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(p,{required:!0,eRef:i.fullname,label:"Nombre del destinatario",placeholder:"Nombre del destinatario",className:"w-full min-w-[240px]",value:r.fullname,name:"fullname",handleDatosFinales:h})}),e.jsx("div",{className:"md:col-span-1",children:e.jsx(p,{required:!0,eRef:i.phone,label:"Teléfono del destinatario",placeholder:"+51",className:"w-full",value:r.phone,name:"phone",handleDatosFinales:h})})]}),o&&e.jsx(Q,{managezipCode:B,addressRef:i}),e.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4 w-full text-neutral-900",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(p,{required:!0,eRef:i.street,label:"Calle",placeholder:"Faucibus",className:"w-full min-w-[240px]",value:r.street,name:"street",handleDatosFinales:h})}),e.jsx("div",{className:"md:col-span-1",children:e.jsx(p,{required:!0,eRef:i.number,label:"Número",className:"w-full",value:r.number,name:"number",handleDatosFinales:h})})]}),e.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4 w-full text-neutral-900",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(p,{eRef:i.mz,label:"Urbanizacion",placeholder:"Faucibus",className:"w-full",value:r.mz,name:"mz",handleDatosFinales:h})}),e.jsx("div",{className:"md:col-span-1",children:e.jsx(p,{required:!0,eRef:i.postalCode,label:"Código postal",placeholder:"C.P. 987-2346",className:"w-full",value:r.postal_code,name:"postal_code",handleDatosFinales:h})})]}),e.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4 w-full text-neutral-900",children:[e.jsx("div",{className:"md:col-span-1",children:e.jsx(p,{required:!0,eRef:i.department,label:"Departamento",placeholder:"Departamento...",className:"w-full",value:r.department,name:"department",handleDatosFinales:h})}),e.jsx("div",{className:"md:col-span-1",children:e.jsx(p,{required:!0,eRef:i.province,label:"Provincia",placeholder:"Benito...",className:"w-full",value:r.province,name:"province",handleDatosFinales:h})}),e.jsx("div",{className:"md:col-span-1",children:e.jsx(p,{required:!0,eRef:i.district,label:"Distrito",placeholder:"Seleccionar",className:"w-full",value:r.district,name:"district",handleDatosFinales:h})})]}),e.jsx("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4 w-full",children:e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tipo de domicilio"}),e.jsxs("div",{children:[e.jsx($,{name:"residenceType",required:!0,styles:C,options:n,onChange:b,value:n.find(a=>a.value===r.residenceType),placeholder:"Selecciona Tipo de Domicilio",className:"gap-2 self-stretch px-6 py-1.5 mt-4 w-full text-sm tracking-wide rounded-3xl border border-solid border-stone-300 max-md:px-5 max-md:max-w-full"}),r.residenceType===""&&e.jsx("span",{className:"text-red-500 text-sm mt-1",children:"Este campo es obligatorio"})]}),r.residenceType==="Otro"&&e.jsx("input",{type:"text",placeholder:"Ingresa Tipo de Domicilio",value:r.otherResidenceType,onChange:E,className:"gap-2 self-stretch px-6 py-4 mt-4 w-full text-sm tracking-wide rounded-3xl border border-solid border-stone-300 max-md:px-5 max-md:max-w-full"})]})})}),e.jsx(p,{required:!0,eRef:i.reference,label:"Referencias",className:"w-full mt-4",value:r.reference,name:"reference",handleDatosFinales:h}),e.jsxs("p",{className:"mt-8 text-sm font-light",children:["Todos los campos con un ",e.jsx("span",{className:"text-red-500 font-bold text-[20px]",children:"*"})," son obligatorios."]}),e.jsx("p",{className:"mt-8 text-green-800",children:"Si la información es incorrecta, no podemos garantizar la entrega."}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between mt-8 w-full",children:[e.jsx(A,{variant:"secondary",color:"green",className:"w-full md:w-auto",callback:f,children:"Cerrar"}),e.jsx(A,{variant:"secondary",color:"green",className:"w-full md:w-auto",callback:v,children:"Siguiente"})]})]})})}function M({title:s,callback:o}){return e.jsxs("div",{className:"flex flex-wrap gap-1 items-center w-full text-xs tracking-wide text-neutral-900 text-opacity-80 max-md:max-w-full",children:[e.jsx("input",{onChange:o,type:"checkbox",className:"border-1 h-5 w-5 border-orange-400 checked:border-orange-400  outline-orange-400 checked:bg-orange-400 focus:border-orange-400 rounded-md shadow-md "}),e.jsx("p",{className:"flex-1 shrink self-stretch my-auto basis-0 max-md:max-w-full ml-2",children:s})]})}const se={control:s=>({...s,outline:"none",boxShadow:"none",borderColor:"transparent",borderRight:"none","&:hover":{borderColor:"transparent"}}),menu:s=>({...s,width:"90%"}),option:s=>({...s,fontSize:"0.875rem",padding:"8px 12px"}),indicatorSeparator:()=>({display:"none"})},re=({options:s,title:o,handleOptionChange:f})=>e.jsx($,{className:"gap-2 self-stretch px-6 py-1.5 mt-4 w-full text-sm tracking-wide rounded-3xl border border-solid border-stone-300 max-md:px-5 max-md:max-w-full",styles:se,options:s.map(i=>({value:i.id,label:i.name})),placeholder:o,onChange:f}),ne=({culqi_public_key:s,app_name:o,greetings:f,points:i,historicoCupones:d})=>{var O;const[j,k]=u.useState(!1),[r,m]=u.useState(!1),[S,C]=u.useState(!1),[w,g]=u.useState(0),[B,h]=u.useState(null),v=l=>{let t=f.find(y=>y.id===l.value);h(t),a(y=>({...y,dedicatoria:t.description,dedication:{...y.dedication,id:t.id,title:t.name,message:t.description}}))};u.useEffect(()=>{const l=document.createElement("script");return l.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBDikLz7ELBdUFW0TnvkWkcXPK48Wc003U&libraries=places",l.async=!0,l.defer=!0,l.onload=()=>{k(!0)},document.body.appendChild(l),()=>{document.body.removeChild(l)}},[]);const[b,E]=u.useState(_.Local.get("carrito")||[]),[n,a]=u.useState({address:{},dedication:{image:localStorage.getItem("imageDedicatoria")||null},billing:{type:"boleta"},consumer:{},fecha:"",horario:"",telefono:"",zipcode:"",dedicatoria:"",mensaje:"",firma:"",comprobante:"",ruc:"",razonSocial:"",direccionFiscal:"",correoElectronico:""});if(b.length==0)return location.href="/";const N=l=>{a(t=>({...t,address:l})),z()},c=l=>{const t=new Date(l);if(isNaN(t))return"Not Set";const y={weekday:"long",year:"numeric",month:"long",day:"numeric"},F=new Intl.DateTimeFormat("es-ES",y).format(t);return F.charAt(0).toUpperCase()+F.slice(1)};u.useEffect(()=>{_.Local.set("payment-data",{address:n.address,dedication:n.dedication,billing:n.billing,consumer:n.consumer})},[n]);const[x,q]=u.useState(!1),K=()=>{m(!r),a(l=>({...l,dedication:{...l.dedication,message:""}}))},G=()=>{C(!S),a(l=>({...l,dedication:{...l.dedication,signedBy:""}}))},z=()=>{q(!x)};u.useEffect(()=>{Culqi.publicKey=s,Culqi.options({style:{logo:`${location.origin}/img_donas/icon.svg`,bannerColor:"#272727"}})},[null]);const V=l=>{var R;if(l.preventDefault(),!n.address.postal_code)return T.fire({icon:"error",title:"Error",text:"Por favor, seleccione una direccion para continuar",showConfirmButton:!0,showCancelButton:!1,confirmButtonText:"Aceptar",confirmButtonColor:"#EF4444"});if(console.log(n.billing.type,n.billing.ruc.length),n.billing.type=="factura"&&(n.billing.ruc.length>11||n.billing.ruc.length<11))return T.fire({icon:"error",title:"Error",text:"Por favor, la longitud del RUC debe ser de 11 digitos",showConfirmButton:!0,showCancelButton:!1,confirmButtonText:"Aceptar",confirmButtonColor:"#EF4444"});if(n.billing.type=="boleta"&&(n.billing.dni.length>8||n.billing.dni.length<8))return T.fire({icon:"error",title:"Error",text:"Por favor, la longitud del DNI debe ser de 8 digitos",showConfirmButton:!0,showCancelButton:!1,confirmButtonText:"Aceptar",confirmButtonColor:"#EF4444"});_.Local.set("payment-data",{address:n.address,dedication:n.dedication,billing:n.billing,consumer:n.consumer});let t=U(i),y=0;const F=((R=d[0])==null?void 0:R.cupon)??0;d.length>0&&(F.porcentaje==1?y=t*F.monto/100:y=F.monto),t=t+Number(w)-y,Culqi.settings({title:o,currency:"PEN",amount:t*100}),Culqi.open()};return e.jsx(e.Fragment,{children:e.jsx("form",{className:"mb-24",onSubmit:V,children:e.jsxs("div",{className:"mt-12 px-[5%] md:px-[10%]",children:[e.jsx("span",{className:"text-[#447279] text-[12px] uppercase",children:"Home / Aniversario / Suspendisse potenti /Validación de pedido"}),e.jsx("div",{className:"mt-8",children:e.jsx("h1",{className:"text-[#112212] font-bold text-2xl md:text-4xl",children:"CARRITO DE COMPRAS"})}),e.jsx("div",{className:"flex flex-col w-full my-8",children:e.jsx(Y,{historicoCupones:d,carrito:b,costoEnvio:w,setIsModalOpen:q,points:i})}),e.jsx("div",{className:"text-center flex w-full content-center justify-center",children:e.jsx(ee,{})}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-20 pt-10 w-full",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx(te,{date:c(b[0].fecha),time:"12:00 pm - 4:00 pm",iconSrc:"https://cdn.builder.io/api/v1/image/assets/TEMP/008ab4d0d8aefa2f2fc7a83e847e76459be3aff9fcca7c4d2dec680f5127ecd2?placeholderIfAbsent=true&apiKey=b6f214df1e0f4f5eae4157d4f12e0ba3"}),e.jsx("section",{className:"flex flex-col mt-6 w-full max-md:max-w-full",children:e.jsx(p,{label:"1. Confirma tu telefono",name:"phone",defaultValue:n.telefono,required:!0,handleDatosFinales:l=>{a(t=>({...t,consumer:{...t.consumer,phone:l.target.value}}))}})}),e.jsxs("section",{className:"flex flex-col mt-6 w-full font-bold text-neutral-900 max-md:max-w-full",children:[e.jsx("h2",{className:"text-base tracking-wider max-md:max-w-full",children:"2. Dirección de envío"}),e.jsx("div",{type:"button",className:"text-white bg-green-800 w-full mt-1 p-2 rounded-lg text-center cursor-pointer ",label:"Seleccionar dirección",onClick:z,children:"Seleccionar direccion de envio "}),e.jsx(X,{handlemodalMaps:z,isModalOpen:x,tittle:"Dirección de envío",children:e.jsx(le,{onSelectAddress:N,scriptLoaded:j,handlemodalMaps:z,setCostoEnvio:g})}),e.jsxs("p",{className:"my-2 text-base font-light",children:["Direccion: ",((O=n.address)==null?void 0:O.fulladdress)??"Sin direccion"]}),e.jsxs("p",{className:"my-2 text-base font-light",children:["Costo de envio: ",w>0?e.jsxs(e.Fragment,{children:["S/ ",w," "]}):"Evaluando"]})]}),e.jsxs("section",{className:"flex flex-col mt-6 w-full max-md:max-w-full",children:[e.jsx("h2",{className:"text-base font-bold tracking-wider text-neutral-900 max-md:max-w-full",children:"3. Dedicatoria"}),e.jsx("div",{className:"px-1.5 mt-4",children:e.jsx(M,{title:"Sin Mensaje",callback:K})}),!r&&e.jsxs(e.Fragment,{children:[e.jsx(re,{title:"Seleccionar Mensaje",options:f,handleOptionChange:v}),e.jsxs("div",{className:"flex flex-col mt-6 w-full max-md:max-w-full",children:[e.jsx("div",{className:"flex flex-wrap gap-2 items-start w-full text-xs tracking-wide max-md:max-w-full",children:e.jsx("p",{className:"flex-1 shrink basis-0 text-neutral-900 text-opacity-80",children:"Escribe tu mensaje"})}),e.jsx("textarea",{className:"flex-1 shrink gap-2 self-stretch px-6 py-4 mt-2 w-full text-sm tracking-wide leading-5 rounded-3xl border border-solid border-stone-300 text-neutral-900 max-md:px-5 max-md:max-w-full",defaultValue:n.dedicatoria,onChange:l=>{a(t=>({...t,dedication:{...t.dedication,message:l.target.value}}))}})]})]}),e.jsx("div",{className:"flex flex-wrap gap-1 items-center mt-6 w-full text-xs tracking-wide whitespace-nowrap text-neutral-900 text-opacity-80 max-md:max-w-full",children:e.jsx("div",{className:"px-1.5",children:e.jsx(M,{title:"Anonimo",callback:G})})}),!S&&e.jsxs("div",{className:"flex flex-col mt-6 w-full max-md:max-w-full",children:[e.jsx("label",{htmlFor:"signature",className:"text-xs tracking-wide text-neutral-900",children:"Firma"}),e.jsx("input",{id:"signature",type:"text",placeholder:"Persona que firma el mensaje de la tarjeta",className:"flex-1 shrink gap-2 self-stretch px-6 py-4 mt-2 w-full text-sm tracking-wide rounded-3xl border border-solid border-stone-300 text-stone-300 max-md:px-5 max-md:max-w-full",onChange:l=>{a(t=>({...t,dedication:{...t.dedication,signedBy:l.target.value}}))}})]})]})]}),e.jsx("div",{className:"flex flex-col w-full ",children:e.jsxs("section",{className:"flex flex-col mt-6 w-full max-md:max-w-full",children:[e.jsx("h2",{className:"text-base font-bold tracking-wider text-neutral-900 max-md:max-w-full",children:"Tipo de comprobante"}),e.jsxs("div",{className:"flex flex-col justify-center mt-6 w-full max-md:max-w-full",children:[e.jsx(ae,{onChange:l=>{a(t=>({...t,billing:{...t.billing,type:l}}))}}),e.jsxs("div",{className:"flex flex-col mt-8 w-full max-md:max-w-full",children:[e.jsx(p,{label:`Número de ${n.billing.type==="boleta"?"DNI":"RUC"}`,placeholder:`Número de ${n.billing.type==="boleta"?"DNI":"RUC"}`,required:!0,type:"number",maxLength:n.billing.type==="boleta"?8:11,handleDatosFinales:l=>{n.billing.type==="boleta"?a(t=>({...t,billing:{...t.billing,ruc:"",dni:l.target.value}})):a(t=>({...t,billing:{...t.billing,dni:"",ruc:l.target.value}}))}}),e.jsx(p,{name:"razonSocial",label:n.billing.type=="boleta"?"Nombre":"Razón Social",placeholder:"Ingrese una nombre",required:!0,handleDatosFinales:l=>{a(t=>({...t,billing:{...t.billing,name:l.target.value}}))}}),n.billing.type==="boleta"&&e.jsx(e.Fragment,{children:e.jsx(p,{name:"lastname",label:"Apellido",placeholder:"Ingrese su apellido",required:!0,handleDatosFinales:l=>{a(t=>({...t,billing:{...t.billing,lastname:l.target.value}}))}})}),e.jsx(p,{label:"Dirección Fiscal",placeholder:"Ingrese una dirección",required:!0,handleDatosFinales:l=>{a(t=>({...t,billing:{...t.billing,address:l.target.value}}))}}),e.jsx(p,{label:"Correo electrónico",type:"email",placeholder:"Ingrese un correo",required:!0,handleDatosFinales:l=>{a(t=>({...t,billing:{...t.billing,email:l.target.value}}))}})]}),e.jsxs("div",{className:"flex flex-row items-center gap-4 justify-center mt-8 w-full text-sm font-bold tracking-wide whitespace-nowrap max-md:max-w-full",children:[e.jsx(A,{variant:"primary",type:"submit",children:"Continuar"}),e.jsx(A,{href:"/carrito",variant:"secondary",children:"Regresar"})]})]})]})})]})]})})})};H((s,o)=>{W(s).render(e.jsx(ne,{...o}))});
