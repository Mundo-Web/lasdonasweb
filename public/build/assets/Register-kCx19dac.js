var X=Object.defineProperty;var Z=(n,o,i)=>o in n?X(n,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[o]=i;var F=(n,o,i)=>(Z(n,typeof o!="symbol"?o+"":o,i),i);import{j as r}from"./Example-zgwdEd5i.js";import{c as ee}from"./ReactAppend-mx8-aehl.js";import{r as c}from"./useOutsideClick-TT1qJ6UJ.js";import{J as te}from"./JSEncrypt-jwo8Dr6z.js";import{C as re}from"./CreateReactScript-VVPwJ0HX.js";import{m as L}from"./main-Vi8adC25.js";import{P as u}from"./index-VFMbf6KQ.js";import{h as ne,M as oe}from"./ModalGoogle-A55CytES.js";import"./CreateReactScript-scAdndyK.js";import{S as K}from"./Profile-6kVS_QzG.js";import"./index-38suPYpT.js";import"./_commonjsHelpers-4gQjN7DL.js";/* empty css              */import"./index-XJuWVQ-l.js";import"./storage-zp2nPsZU.js";import"./axios-_sX4vCAy.js";class q{}F(q,"login",async o=>{try{const{status:i,result:e}=await L.Fetch("./api/login",{method:"POST",body:JSON.stringify(o)});if(!i)throw new Error((e==null?void 0:e.message)||"Error al iniciar sesion");return L.Notify.add({icon:"/images/svg/Boost.svg",title:"Operacion correcta",body:"Se inicio sesion correctamente"}),!0}catch(i){return L.Notify.add({icon:"/images/svg/Boost.svg",title:"Error",body:i.message,type:"danger"}),!1}}),F(q,"signup",async o=>{try{const{status:i,result:e}=await L.Fetch("./api/signup",{method:"POST",body:JSON.stringify(o)});if(!i)throw new Error((e==null?void 0:e.message)||"Error al registrar el usuario");return L.Notify.add({icon:"/assets/img/logo-login.svg",title:"Operacion correcta",body:"Se registro el usuario correctamente"}),e.data}catch(i){return L.Notify.add({icon:"/assets/img/logo-login.svg",title:"Error",body:i.message,type:"danger"}),null}});var ie=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function M(){return M=Object.assign?Object.assign.bind():function(n){for(var o=1;o<arguments.length;o++){var i=arguments[o];for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}return n},M.apply(this,arguments)}function ae(n,o){if(n==null)return{};var i={},e=Object.keys(n),t,d;for(d=0;d<e.length;d++)t=e[d],!(o.indexOf(t)>=0)&&(i[t]=n[t]);return i}function T(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function se(n,o){n.prototype=Object.create(o.prototype),n.prototype.constructor=n,H(n,o)}function H(n,o){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},H(n,o)}var U=function(n){se(o,n);function o(){var e;return e=n.call(this)||this,e.handleExpired=e.handleExpired.bind(T(e)),e.handleErrored=e.handleErrored.bind(T(e)),e.handleChange=e.handleChange.bind(T(e)),e.handleRecaptchaRef=e.handleRecaptchaRef.bind(T(e)),e}var i=o.prototype;return i.getCaptchaFunction=function(t){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[t]:this.props.grecaptcha[t]:null},i.getValue=function(){var t=this.getCaptchaFunction("getResponse");return t&&this._widgetId!==void 0?t(this._widgetId):null},i.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},i.execute=function(){var t=this.getCaptchaFunction("execute");if(t&&this._widgetId!==void 0)return t(this._widgetId);this._executeRequested=!0},i.executeAsync=function(){var t=this;return new Promise(function(d,j){t.executionResolve=d,t.executionReject=j,t.execute()})},i.reset=function(){var t=this.getCaptchaFunction("reset");t&&this._widgetId!==void 0&&t(this._widgetId)},i.forceReset=function(){var t=this.getCaptchaFunction("reset");t&&t()},i.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},i.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},i.handleChange=function(t){this.props.onChange&&this.props.onChange(t),this.executionResolve&&(this.executionResolve(t),delete this.executionReject,delete this.executionResolve)},i.explicitRender=function(){var t=this.getCaptchaFunction("render");if(t&&this._widgetId===void 0){var d=document.createElement("div");this._widgetId=t(d,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(d)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},i.componentDidMount=function(){this.explicitRender()},i.componentDidUpdate=function(){this.explicitRender()},i.handleRecaptchaRef=function(t){this.captcha=t},i.render=function(){var t=this.props;t.sitekey,t.onChange,t.theme,t.type,t.tabindex,t.onExpired,t.onErrored,t.size,t.stoken,t.grecaptcha,t.badge,t.hl,t.isolated;var d=ae(t,ie);return c.createElement("div",M({},d,{ref:this.handleRecaptchaRef}))},o}(c.Component);U.displayName="ReCAPTCHA";U.propTypes={sitekey:u.string.isRequired,onChange:u.func,grecaptcha:u.object,theme:u.oneOf(["dark","light"]),type:u.oneOf(["image","audio"]),tabindex:u.number,onExpired:u.func,onErrored:u.func,size:u.oneOf(["compact","normal","invisible"]),stoken:u.string,hl:u.string,badge:u.oneOf(["bottomright","bottomleft","inline"]),isolated:u.bool};U.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};function z(){return z=Object.assign||function(n){for(var o=1;o<arguments.length;o++){var i=arguments[o];for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}return n},z.apply(this,arguments)}function ce(n,o){if(n==null)return{};var i={},e=Object.keys(n),t,d;for(d=0;d<e.length;d++)t=e[d],!(o.indexOf(t)>=0)&&(i[t]=n[t]);return i}function de(n,o){n.prototype=Object.create(o.prototype),n.prototype.constructor=n,n.__proto__=o}var g={},le=0;function ue(n,o){return o=o||{},function(e){var t=e.displayName||e.name||"Component",d=function(b){de(y,b);function y(m,s){var a;return a=b.call(this,m,s)||this,a.state={},a.__scriptURL="",a}var h=y.prototype;return h.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+le++),this.__scriptLoaderID},h.setupScriptURL=function(){return this.__scriptURL=typeof n=="function"?n():n,this.__scriptURL},h.asyncScriptLoaderHandleLoad=function(s){var a=this;this.setState(s,function(){return a.props.asyncScriptOnLoad&&a.props.asyncScriptOnLoad(a.state)})},h.asyncScriptLoaderTriggerOnScriptLoaded=function(){var s=g[this.__scriptURL];if(!s||!s.loaded)throw new Error("Script is not loaded.");for(var a in s.observers)s.observers[a](s);delete window[o.callbackName]},h.componentDidMount=function(){var s=this,a=this.setupScriptURL(),p=this.asyncScriptLoaderGetScriptLoaderID(),f=o,R=f.globalName,_=f.callbackName,O=f.scriptId;if(R&&typeof window[R]<"u"&&(g[a]={loaded:!0,observers:{}}),g[a]){var v=g[a];if(v&&(v.loaded||v.errored)){this.asyncScriptLoaderHandleLoad(v);return}v.observers[p]=function(l){return s.asyncScriptLoaderHandleLoad(l)};return}var E={};E[p]=function(l){return s.asyncScriptLoaderHandleLoad(l)},g[a]={loaded:!1,observers:E};var x=document.createElement("script");x.src=a,x.async=!0;for(var S in o.attributes)x.setAttribute(S,o.attributes[S]);O&&(x.id=O);var N=function(w){if(g[a]){var A=g[a],k=A.observers;for(var I in k)w(k[I])&&delete k[I]}};_&&typeof window<"u"&&(window[_]=function(){return s.asyncScriptLoaderTriggerOnScriptLoaded()}),x.onload=function(){var l=g[a];l&&(l.loaded=!0,N(function(w){return _?!1:(w(l),!0)}))},x.onerror=function(){var l=g[a];l&&(l.errored=!0,N(function(w){return w(l),!0}))},document.body.appendChild(x)},h.componentWillUnmount=function(){var s=this.__scriptURL;if(o.removeOnUnmount===!0)for(var a=document.getElementsByTagName("script"),p=0;p<a.length;p+=1)a[p].src.indexOf(s)>-1&&a[p].parentNode&&a[p].parentNode.removeChild(a[p]);var f=g[s];f&&(delete f.observers[this.asyncScriptLoaderGetScriptLoaderID()],o.removeOnUnmount===!0&&delete g[s])},h.render=function(){var s=o.globalName,a=this.props;a.asyncScriptOnLoad;var p=a.forwardedRef,f=ce(a,["asyncScriptOnLoad","forwardedRef"]);return s&&typeof window<"u"&&(f[s]=typeof window[s]<"u"?window[s]:void 0),f.ref=p,c.createElement(e,f)},y}(c.Component),j=c.forwardRef(function(b,y){return c.createElement(d,z({},b,{forwardedRef:y}))});return j.displayName="AsyncScriptLoader("+t+")",j.propTypes={asyncScriptOnLoad:u.func},ne(j,e)}}var B="onloadcallback",pe="grecaptcha";function G(){return typeof window<"u"&&window.recaptchaOptions||{}}function fe(){var n=G(),o=n.useRecaptchaNet?"recaptcha.net":"www.google.com";return n.enterprise?"https://"+o+"/recaptcha/enterprise.js?onload="+B+"&render=explicit":"https://"+o+"/recaptcha/api.js?onload="+B+"&render=explicit"}const he=ue(fe,{callbackName:B,globalName:pe,attributes:G().nonce?{nonce:G().nonce}:{}})(U),Y=({html:n})=>r.jsx("div",{dangerouslySetInnerHTML:{__html:n}}),me=({PUBLIC_RSA_KEY:n,RECAPTCHA_SITE_KEY:o,token:i,terms:e="Terminos y condiciones",APP_URL:t,termsAndCondicitions:d,politicas:j})=>{document.title="Registro | Las Doñas";const b=new te;b.setPublicKey(n);const[y,h]=c.useState(!0),[m,s]=c.useState(null),[a,p]=c.useState(!1),f=c.useRef(),R=c.useRef(),_=c.useRef(),O=c.useRef(),v=c.useRef(),E=c.useRef(),x=c.useRef(),S=c.useRef(),N=c.useRef(),[l,w]=c.useState(!1);c.useRef(),c.useEffect(()=>{h(!1)},[null]);const A=async C=>{C.preventDefault(),h(!0);const P=E.current.value,J=x.current.value;if(P!=J)return K.fire({icon:"warning",title:"Error",text:"Las contraseñas no coinciden",confirmButtonText:"Ok"});if(!m)return K.fire({icon:"warning",title:"Error",text:"Por favor, complete el captcha",confirmButtonText:"Ok"});const Q={document_type:$(f.current).val(),document_number:R.current.value,name:_.current.value,lastname:O.current.value,email:v.current.value,password:b.encrypt(P),confirmation:b.encrypt(J),terms:S.current.checked,captcha:m,_token:i},D=await q.signup(Q);if(!D)return h(!1);D&&(location.href=`./confirm-email/${D}`),h(!1)},k=C=>{R.current.value="",p(!1)},I="/img_donas/login.png",V=()=>{w(!l)},W=C=>{const P=C.target.getAttribute("data-tipo");N.current=P,V()};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex flex-row md:h-screen justify-center h-screen font-b_slick_bold min-h-[869px]",children:[r.jsx("div",{className:"basis-1/2 hidden md:block font-poppins",children:r.jsx("div",{class:"basis-1/2 hidden md:block ",children:r.jsx("div",{className:"bg-cover bg-center bg-no-repeat w-full h-full",children:r.jsx("img",{src:I,alt:"",className:"w-full h-full object-cover"})})})}),r.jsx("div",{className:"w-full md:basis-1/2  text-[#151515] flex justify-center items-center  ",children:r.jsx("div",{className:"w-5/6 flex flex-col gap-5 py-5",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("div",{className:"text-center mb-4",children:r.jsx("h4",{className:"text-uppercase mt-0 font-bold",children:"Registrate"})}),r.jsxs("form",{onSubmit:A,className:"flex flex-col gap-4",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("label",{htmlFor:"document_type",className:"form-label",children:["Tipo documento ",r.jsx("b",{className:"text-danger",children:"*"})]}),r.jsxs("select",{className:'relative my-auto bg-transparent  outline-none focus:border-none  gap-10 justify-between items-center px-6  w-full font-medium leading-tight rounded-3xl border py-4 border-orange-400 border-solid " type="text" id="document_number" placeholder="Ingrese su documento"',name:"",id:"",ref:f,onChange:k,required:!0,children:[r.jsx("option",{value:"DNI",children:"DNI - Documento Nacional de Identidad"}),r.jsx("option",{value:"CE",children:"CE - Carnet de Extranjeria"})]})]}),r.jsx("div",{className:"flex flex-col",children:r.jsx("input",{ref:R,className:"relative my-auto bg-transparent  outline-none focus:border-none  gap-10 justify-between items-center px-6  w-full font-medium leading-tight rounded-3xl border py-4 border-orange-400 border-solid ",type:"text",id:"document_number",placeholder:"Ingrese su documento",required:!0})}),r.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[r.jsx("div",{className:"flex flex-col col-span-2",children:r.jsx("input",{ref:_,className:"relative my-auto bg-transparent  outline-none focus:border-none  gap-10 justify-between items-center px-6  w-full font-medium leading-tight rounded-3xl border py-4 border-orange-400 border-solid ",type:"text",id:"name",placeholder:"Ingrese su nombre",required:!0})}),r.jsx("div",{className:"flex flex-col col-span-2",children:r.jsx("input",{ref:O,className:"relative my-auto bg-transparent  outline-none focus:border-none  gap-10 justify-between items-center px-6  w-full font-medium leading-tight rounded-3xl border py-4 border-orange-400 border-solid ",type:"text",id:"lastname",placeholder:"Ingrese sus apellidos",required:!0})})]}),r.jsx("div",{className:"flex flex-col",children:r.jsx("input",{ref:v,className:"relative my-auto bg-transparent  outline-none focus:border-none  gap-10 justify-between items-center px-6  w-full font-medium leading-tight rounded-3xl border py-4 border-orange-400 border-solid ",type:"email",id:"email",required:!0,placeholder:"Ingrese su correo electronico"})}),r.jsx("div",{className:"flex flex-col",children:r.jsx("input",{ref:E,className:"relative my-auto bg-transparent  outline-none focus:border-none  gap-10 justify-between items-center px-6  w-full font-medium leading-tight rounded-3xl border py-4 border-orange-400 border-solid ",type:"password",required:!0,id:"password",placeholder:"Ingrese su contraseña"})}),r.jsx("div",{className:"flex flex-col",children:r.jsx("input",{ref:x,className:"relative my-auto bg-transparent  outline-none focus:border-none  gap-10 justify-between items-center px-6  w-full font-medium leading-tight rounded-3xl border py-4 border-orange-400 border-solid ",type:"password",required:!0,id:"confirmation",placeholder:"Confirme su contraseña"})}),r.jsx("div",{className:"flex flex-col",children:r.jsxs("div",{class:"flex gap-3 px-4 items-center",children:[r.jsx("input",{ref:S,type:"checkbox",className:"form-check-input",id:"checkbox-signup",required:!0}),r.jsxs("label",{for:"",class:"font-normal text-sm ",children:["Acepto la",r.jsx("span",{class:" font-bold text-[#006BF6]  cursor-pointer open-modal","data-tipo":"PoliticaPriv",onClick:W,children:" Política de Privacidad "}),"y los "," ",r.jsx("span",{class:" font-bold text-[#006BF6] open-modal cursor-pointer open-modal","data-tipo":"terminosUso",onClick:W,children:"Términos de Uso "})]})]})}),r.jsx(he,{className:"m-auto mb-3",sitekey:o,onChange:s,style:{display:"block",width:"max-content"}}),r.jsx("div",{className:"mb-0 text-center d-grid",children:r.jsx("button",{className:"text-white bg-green-800 w-full py-4 rounded-3xl cursor-pointer font-light font-Inter_Medium tracking-wide",type:"submit",disabled:y,children:y?r.jsxs(r.Fragment,{children:[r.jsx("i",{className:"fa fa-spinner fa-spin"})," Verificando"]}):"Registrarme"})})]}),r.jsx("div",{className:"row mt-3",children:r.jsx("div",{className:"col-12 text-center",children:r.jsxs("p",{className:"text-muted",children:["Ya tienes una cuenta? ",r.jsx("a",{href:"/login",className:"text-dark ms-1",children:r.jsx("b",{children:"Iniciar sesion"})})]})})})]})})})]}),r.jsx(oe,{handlemodalMaps:V,isModalOpen:l,tittle:N.current=="PoliticaPriv"?"Politica de Prtivacidad ":"Terminos de Uso",children:N.current=="PoliticaPriv"?r.jsx(Y,{html:j.content}):r.jsx(Y,{html:d.content})})]})};re((n,o)=>{ee(n).render(r.jsx(me,{...o}))});
